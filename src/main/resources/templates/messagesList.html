<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messages</title>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet" />
    <link th:href="@{/css/landing.css}" rel="stylesheet" />
    <link th:href="@{/css/common.css}" rel="stylesheet" />
  </head>
<body>

    <section>
        <div th:if="${error}" class = "alert alert-danger text-center">
            [[${er}]]
        </div>
        <div th:if="${message}" class = "alert alert-success text-center">
            [[${message}]]
        </div>
        <div th:if="${success}" class = "alert alert-success text-center">
            [[${success}]]
        </div>
        <div class="d-flex justify-content-between card container" >
            <div class="card container" th:each=" message : ${messages}" >
                <div class="card-body d-flex justify-content-between">
                    <img
                      th:src="@{/images/default_avatar.png}"
                      class="rounded-circle"
                      data-bs-toggle="tooltip"
                      title="Logged in as Admin"
                      alt="Avatar"
                      height="35"
                    />
                    <div>
                    sent by: [[${message.getSender.getFirstName}]] [[${message.getSender.getLastName}]]<span class="text-muted">| [[${message.getSentDate}]]</span> 
                    </div>
                  <div>
                    <a th:href="@{/adminDashBoard/message/{id}('id' = ${message.getFeedbackId})}" class="btn btn-primary"> see message </a>
                </div>
    
                </div>
    
                
            </div>
        </div>
        
        <script>
            function updateOutput() {
                $.post("test_ajax_frag").done(function (fragment) {
                    console.log(fragment);
                    $("#output").replaceWith(fragment);
                });
            }
        </script>
    </section>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/common.js}"></script>

</body>
</html>
